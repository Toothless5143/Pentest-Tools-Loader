import os
import subprocess
import urllib.request

# changing directory to /opt
os.chdir('/opt')

# loading all the windows files we need to transfer to a target machine in an assessment
os.makedirs('Win-Share')
os.chdir('Win-Share')

subprocess.run(['git', 'clone', 'https://github.com/dafthack/DomainPasswordSpray.git'])
urllib.request.urlretrieve('https://github.com/SnaffCon/Snaffler/releases/download/1.0.103/Snaffler.exe', 'Snaffler.exe')
subprocess.run(['git', 'clone', 'https://github.com/ParrotSec/mimikatz.git'])
urllib.request.urlretrieve('https://github.com/r3motecontrol/Ghostpack-CompiledBinaries/blob/master/Rubeus.exe', 'Rubeus.exe')
urllib.request.urlretrieve('https://github.com/Group3r/Group3r/releases/download/1.0.53/Group3r.exe', 'Group3r.exe')
urllib.request.urlretrieve('https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/master/Recon/PowerView.ps1', 'PowerView.ps1')
urllib.request.urlretrieve('https://github.com/tevora-threat/SharpView/blob/master/Compiled/SharpView.exe', 'SharpView.exe')

os.makedirs('SharpHound')
urllib.request.urlretrieve('https://github.com/BloodHoundAD/BloodHound/blob/master/Collectors/SharpHound.exe', 'SharpHound/SharpHound.exe')
urllib.request.urlretrieve('https://raw.githubusercontent.com/BloodHoundAD/BloodHound/master/Collectors/SharpHound.ps1', 'SharpHound/SharpHound.ps1')

os.chdir('..')

urllib.request.urlretrieve('https://raw.githubusercontent.com/Kevin-Robertson/Inveigh/master/Inveigh.ps1', 'Inveigh.ps1')
subprocess.run(['git', 'clone', 'https://github.com/AonCyberLabs/Windows-Exploit-Suggester.git'])
urllib.request.urlretrieve('https://github.com/carlospolop/PEASS-ng/releases/download/20230312/winPEASx64.exe', 'winPEASx64.exe')
urllib.request.urlretrieve('https://github.com/jpillora/chisel/releases/download/v1.8.1/chisel_1.8.1_windows_386.gz', 'chisel_1.8.1_windows_386.gz')

os.chdir('..')

# loading all the linux files we need to transfer to a target machine in an assessment
os.makedirs('Linux-Share')
os.chdir('Linux-Share')

urllib.request.urlretrieve('https://github.com/carlospolop/PEASS-ng/releases/download/20230312/linpeas.sh', 'linpeas.sh')

os.chdir('..')

# loading tools for our own machine
subprocess.run(['git', 'clone', 'https://github.com/htrgouvea/nipe.git'])
os.chdir('nipe')
subprocess.run(['sudo', 'perl', 'nipe.pl', 'install'])
os.chdir('..')

subprocess.run(['git', 'clone', 'https://github.com/urbanadventurer/username-anarchy.git'])
urllib.request.urlretrieve('https://github.com/s0md3v/XSStrike/blob/master/xsstrike.py', 'xsstrike.py')
subprocess.run(['git', 'clone', 'https://github.com/enjoiz/XXEinjector.git'])
urllib.request
